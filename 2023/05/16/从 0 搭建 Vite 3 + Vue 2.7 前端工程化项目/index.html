<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="å¨å­">
    
    <title>
        
            ä» 0 æ­å»º Vite 3 + Vue 2.7 å‰ç«¯å·¥ç¨‹åŒ–é¡¹ç›® |
        
        æˆ‘çš„ä¸–ç•Œ
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/logo.svg">
    
<link rel="stylesheet" href="/font/css/fontawesome.min.css">

    
<link rel="stylesheet" href="/font/css/regular.min.css">

    
<link rel="stylesheet" href="/font/css/solid.min.css">

    
<link rel="stylesheet" href="/font/css/brands.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"en"}
    KEEP.theme_config = {"toc":{"enable":false,"number":false,"expand_all":false,"init_open":false},"style":{"primary_color":"#0066cc","logo":"/images/logo.svg","favicon":"/images/logo.svg","avatar":"/images/avatar.svg","font_size":null,"font_family":null,"hover":{"shadow":false,"scale":false},"first_screen":{"enable":false,"header_transparent":false,"background_img":"/images/bg.svg","description":"Keep writing and Keep loving.","font_color":null,"hitokoto":false},"scroll":{"progress_bar":false,"percent":false}},"local_search":{"enable":false,"preload":false},"code_copy":{},"code_block":{"tools":{"enable":false,"style":"default"},"highlight_theme":"default"},"side_tools":{},"pjax":{"enable":false},"lazyload":{"enable":false},"comment":{"enable":true,"use":"gitalk","valine":{"appid":null,"appkey":null,"server_urls":null,"placeholder":null},"gitalk":{"github_id":"zack995886","github_admins":null,"repository":"zack995886data","client_id":"a85b4998347cbc5bfba6","client_secret":"283df2a25030f48a8d677cb8ed1de71cab8c7976","proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.8"},"waline":{"server_url":null,"reaction":false,"version":2}},"post":{"author_label":{"enable":true,"auto":true,"custom_label_list":["Trainee","Engineer","Architect"]},"word_count":{"enable":false,"wordcount":false,"min2read":false},"img_align":"left","copyright_info":false},"version":"3.6.1"}
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"}
    KEEP.language_code_block = {"copy":"Copy code","copied":"Copied","fold":"Fold code block","folded":"Folded"}
    KEEP.language_copy_copyright = {"copy":"Copy copyright info","copied":"Copied","title":"Original article title","author":"Original article author","link":"Original article link"}
  </script>
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="/images/logo.svg">
                </a>
            
            <a class="logo-title" href="/">
               æˆ‘çš„ä¸–ç•Œ
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                é¦–é¡µ
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                æˆ‘çš„å†…å®¹
                            </a>
                        </li>
                    
                    
                </ul>
            </div>
            <div class="mobile">
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">é¦–é¡µ</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">æˆ‘çš„å†…å®¹</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            <div class="article-title">
                <span class="title-hover-animation">ä» 0 æ­å»º Vite 3 + Vue 2.7 å‰ç«¯å·¥ç¨‹åŒ–é¡¹ç›®</span>
            </div>

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/images/avatar.svg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">å¨å­</span>
                            
                                <span class="author-label">Lv1</span>
                            
                        </div>
                        <div class="meta-info">
                            
<div class="article-meta-info">
    <span class="article-date article-meta-item">
        
            <i class="fa-regular fa-calendar-plus"></i>&nbsp;
        
        <span class="pc">2023-05-16 16:35:38</span>
        <span class="mobile">2023-05-16 16:35</span>
    </span>
    
        <span class="article-update-date article-meta-item">
        <i class="fas fa-file-pen"></i>&nbsp;
        <span class="pc">2023-05-16 19:57:46</span>
    </span>
    
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/vue2/">vue2</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content keep-markdown-body">
                

                <h1 id="ä»-0-æ­å»º-Vite-3-Vue-2-7-å‰ç«¯å·¥ç¨‹åŒ–é¡¹ç›®"><a href="#ä»-0-æ­å»º-Vite-3-Vue-2-7-å‰ç«¯å·¥ç¨‹åŒ–é¡¹ç›®" class="headerlink" title="ä» 0 æ­å»º Vite 3 + Vue 2.7 å‰ç«¯å·¥ç¨‹åŒ–é¡¹ç›®"></a>ä» 0 æ­å»º Vite 3 + Vue 2.7 å‰ç«¯å·¥ç¨‹åŒ–é¡¹ç›®</h1><p>å‰è¨€</p>
<p>Vue 2.7 æ­£å¼ç‰ˆå·²ç»å‘å¸ƒæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œä½†ç›®å‰è®¸å¤šå…¬å¸è¿˜æ²¡æœ‰å‡çº§ Vue 3 çš„æ‰“ç®—ï¼ˆæ¯”å¦‚æˆ‘ï¼‰ï¼Œéšç€ Vite è„šæ‰‹æ¶æ³¨å®šæˆä¸ºä¸‹ä¸€ä»£å‰ç«¯å·¥å…·é“¾ï¼Œè®¸å¤šç”¨æˆ·éƒ½æƒ³åŸºäº Vite æ¥æ„å»º Vue é¡¹ç›®ï¼Œå¦‚æœæƒ³åŸºäº Vite æ„å»º Vue 3 é¡¹ç›®ï¼Œç¤¾åŒºæ¨¡æ¿å®Œå…¨æ»¡è¶³æ‚¨çš„éœ€æ±‚ï¼Œå¦‚æœæƒ³æ„å»º Vite 3 + Vue 2 + JavaScript é¡¹ç›®ï¼Œé‚£ç¤¾åŒºæ¨¡æ¿ä¸å¤ªèƒ½æ»¡è¶³æ‚¨çš„éœ€æ±‚ï¼Œå› ä¸ºç¤¾åŒºæ¨¡æ¿æä¾› Vue 2 é¡¹ç›®å‡ ä¹æ˜¯åŸºäº Vite 2 + TypeScript æ„å»ºï¼Œå¯¹äºä¸ç†Ÿæ‚‰ TypeScript è¯­è¨€çš„ç”¨æˆ·ä¸æ˜¯å¾ˆå‹å¥½ï¼Œå› æ­¤æ¥ä¸‹æ¥ä» 0 å¼€å§‹æ‰‹æŠŠæ‰‹å¸¦å¤§å®¶æ­å»ºä¸€å¥—è§„èŒƒçš„ Vite3 + Vue2.7 + JavaScript å‰ç«¯å·¥ç¨‹åŒ–é¡¹ç›®ç¯å¢ƒã€‚</p>
<p>æœ¬æ–‡ç« ç¯‡å¹…è¾ƒé•¿ï¼Œä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å±•å¼€ï¼š</p>
<p>åŸºç¡€æ­å»º<br>ä»£ç è§„èŒƒ<br>æäº¤è§„èŒƒ<br>è‡ªåŠ¨éƒ¨ç½²</p>
<p>æŠ€æœ¯æ ˆ</p>
<p>âš¡ï¸ Vite 3 - æ„å»ºå·¥å…·ï¼ˆå°±æ˜¯å¿«ï¼ï¼‰<br>ğŸ–– Vue 2 - æ¸è¿›å¼ JavaScript æ¡†æ¶<br>ğŸš¦ Vue Router 3 - å®˜æ–¹è·¯ç”±ç®¡ç†å™¨<br>ğŸ“¦ Vuex 3 - ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼<br>ğŸ¨ Less - CSS é¢„å¤„ç†å™¨<br>ğŸ”— Axios - ä¸€ä¸ªåŸºäº promise çš„ç½‘ç»œè¯·æ±‚åº“ï¼Œå¯ä»¥ç”¨äºæµè§ˆå™¨å’Œ node.js<br>ğŸ§° Husky + Lint-Staged - Git Hook å·¥å…·<br>ğŸ›¡ï¸ EditorConfig + ESLint + Prettier + Stylelint + Airbnb JavaScript Style Guide - ä»£ç è§„èŒƒ<br>ğŸ”¨ Commitizen + Commitlint - æäº¤è§„èŒƒ<br>ğŸ’¡ GitHub Actions - è‡ªåŠ¨éƒ¨ç½²<br>åŸºç¡€æ­å»º</p>
<p>æ„å»ºé¡¹ç›®é›å½¢</p>
<p>ç¡®ä¿ä½ å®‰è£…äº†æœ€æ–°ç‰ˆæœ¬çš„ Node.jsï¼Œç„¶ååœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<p>npm init vue@2<br>å¤åˆ¶ä»£ç <br>è¿™ä¸€æŒ‡ä»¤å°†ä¼šå®‰è£…å¹¶æ‰§è¡Œ create-vueï¼Œå®ƒæ˜¯ Vue å®˜æ–¹çš„é¡¹ç›®è„šæ‰‹æ¶å·¥å…·ã€‚</p>
<p>ä½ å°†ä¼šçœ‹åˆ°ä¸€äº›è¯¸å¦‚ TypeScript å’Œæµ‹è¯•æ”¯æŒä¹‹ç±»çš„å¯é€‰åŠŸèƒ½æç¤ºï¼š</p>
<p>âœ” Project name: â€¦ <your-project-name><br>âœ” Add TypeScript? â€¦ No &#x2F; Yes<br>âœ” Add JSX Support? â€¦ No &#x2F; Yes<br>âœ” Add Vue Router for Single Page Application development? â€¦ No &#x2F; Yes<br>âœ” Add Pinia for state management? â€¦ No &#x2F; Yes<br>âœ” Add Vitest for Unit testing? â€¦ No &#x2F; Yes<br>âœ” Add Cypress for both Unit and End-to-End testing? â€¦ No &#x2F; Yes<br>âœ” Add ESLint for code quality? â€¦ No &#x2F; Yes<br>âœ” Add Prettier for code formatting? â€¦ No &#x2F; Yes</p>
<p>Scaffolding project in .&#x2F;<your-project-name>â€¦<br>Done.<br>å¤åˆ¶ä»£ç <br>å¦‚æœä¸ç¡®å®šæ˜¯å¦è¦å¼€å¯æŸä¸ªåŠŸèƒ½ï¼Œä½ å¯ä»¥ç›´æ¥æŒ‰ä¸‹å›è½¦é”®é€‰æ‹© Noã€‚</p>
<p>åˆå§‹åŒ–é¡¹ç›®</p>
<p>åœ¨é¡¹ç›®è¢«åˆ›å»ºåï¼Œé€šè¿‡ä»¥ä¸‹æ­¥éª¤å®‰è£…ä¾èµ–å¹¶å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š</p>
<h1 id="æ‰“å¼€é¡¹ç›®"><a href="#æ‰“å¼€é¡¹ç›®" class="headerlink" title="æ‰“å¼€é¡¹ç›®"></a>æ‰“å¼€é¡¹ç›®</h1><p>cd <your-project-name></p>
<h1 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h1><p>npm install</p>
<h1 id="å¯åŠ¨é¡¹ç›®"><a href="#å¯åŠ¨é¡¹ç›®" class="headerlink" title="å¯åŠ¨é¡¹ç›®"></a>å¯åŠ¨é¡¹ç›®</h1><p>npm run dev<br>å¤åˆ¶ä»£ç <br>å¯åŠ¨é¡¹ç›®</p>
<p>Vite åŸºç¡€é…ç½®</p>
<p>Vite é…ç½®æ–‡ä»¶ vite.config.js ä½äºé¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œé¡¹ç›®å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨è¯»å–ã€‚</p>
<p>æœ¬é¡¹ç›®é’ˆå¯¹å…¬å…±åŸºç¡€è·¯å¾„ã€è‡ªå®šä¹‰è·¯å¾„åˆ«åã€æœåŠ¡å™¨é€‰é¡¹ã€æ„å»ºé€‰é¡¹ç­‰åšäº†å¦‚ä¸‹åŸºç¡€é…ç½®ï¼š</p>
<p>import { fileURLToPath, URL } from â€˜node:urlâ€™;<br>import { defineConfig } from â€˜viteâ€™;<br>import legacy from â€˜@vitejs&#x2F;plugin-legacyâ€™;<br>import vue2 from â€˜@vitejs&#x2F;plugin-vue2â€™;</p>
<p>export default defineConfig({<br>    base: â€˜.&#x2F;â€˜,<br>    plugins: [<br>      vue2(),<br>      legacy({<br>        targets: [â€˜ie &gt;&#x3D; 11â€™],<br>        additionalLegacyPolyfills: [â€˜regenerator-runtime&#x2F;runtimeâ€™],<br>      }),<br>    ],<br>    resolve: {<br>      alias: {<br>        â€˜@â€™: fileURLToPath(new URL(â€˜.&#x2F;srcâ€™, import.meta.url)),<br>      },<br>    },<br>    server: {<br>      &#x2F;&#x2F; æ˜¯å¦å¼€å¯ https<br>      https: false,<br>      &#x2F;&#x2F; ç«¯å£å·<br>      port: 3000,<br>      &#x2F;&#x2F; ç›‘å¬æ‰€æœ‰åœ°å€<br>      host: â€˜0.0.0.0â€™,<br>      &#x2F;&#x2F; æœåŠ¡å¯åŠ¨æ—¶æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨<br>      open: true,<br>      &#x2F;&#x2F; å…è®¸è·¨åŸŸ<br>      cors: true,<br>      &#x2F;&#x2F; è‡ªå®šä¹‰ä»£ç†è§„åˆ™<br>      proxy: {},<br>    },<br>    build: {<br>      &#x2F;&#x2F; è®¾ç½®æœ€ç»ˆæ„å»ºçš„æµè§ˆå™¨å…¼å®¹ç›®æ ‡<br>      target: â€˜es2015â€™,<br>      &#x2F;&#x2F; æ„å»ºåæ˜¯å¦ç”Ÿæˆ source map æ–‡ä»¶<br>      sourcemap: false,<br>      &#x2F;&#x2F;  chunk å¤§å°è­¦å‘Šçš„é™åˆ¶ï¼ˆä»¥ kbs ä¸ºå•ä½ï¼‰<br>      chunkSizeWarningLimit: 2000,<br>      &#x2F;&#x2F; å¯ç”¨&#x2F;ç¦ç”¨ gzip å‹ç¼©å¤§å°æŠ¥å‘Š<br>      reportCompressedSize: false,<br>    },<br>});<br>å¤åˆ¶ä»£ç <br>å…³äº Vite æ›´å¤šé…ç½®é¡¹åŠç”¨æ³•ï¼Œè¯·æŸ¥çœ‹ Vite å®˜ç½‘ vitejs.dev&#x2F;config&#x2F; ã€‚</p>
<p>è§„èŒƒç›®å½•ç»“æ„</p>
<p>â”œâ”€â”€ dist&#x2F;<br>â””â”€â”€ src&#x2F;<br>    â”œâ”€â”€ api&#x2F;                       &#x2F;&#x2F; æ¥å£è¯·æ±‚ç›®å½•<br>    â”œâ”€â”€ assets&#x2F;                    &#x2F;&#x2F; é™æ€èµ„æºç›®å½•<br>    â”œâ”€â”€ common&#x2F;                    &#x2F;&#x2F; é€šç”¨ç±»åº“ç›®å½•<br>    â”œâ”€â”€ components&#x2F;                &#x2F;&#x2F; å…¬å…±ç»„ä»¶ç›®å½•<br>    â”œâ”€â”€ router&#x2F;                    &#x2F;&#x2F; è·¯ç”±é…ç½®ç›®å½•<br>    â”œâ”€â”€ store&#x2F;                     &#x2F;&#x2F; çŠ¶æ€ç®¡ç†ç›®å½•<br>    â”œâ”€â”€ style&#x2F;                     &#x2F;&#x2F; é€šç”¨æ ·å¼ç›®å½•<br>    â”œâ”€â”€ utils&#x2F;                     &#x2F;&#x2F; å·¥å…·å‡½æ•°ç›®å½•<br>    â”œâ”€â”€ views&#x2F;                     &#x2F;&#x2F; é¡µé¢ç»„ä»¶ç›®å½•<br>    â”œâ”€â”€ App.vue<br>    â”œâ”€â”€ main.js<br>â”œâ”€â”€ tests&#x2F;                         &#x2F;&#x2F; å•å…ƒæµ‹è¯•ç›®å½•<br>â”œâ”€â”€ index.html<br>â”œâ”€â”€ jsconfig.json                  &#x2F;&#x2F; JavaScript é…ç½®æ–‡ä»¶<br>â”œâ”€â”€ vite.config.js                 &#x2F;&#x2F; Vite é…ç½®æ–‡ä»¶<br>â””â”€â”€ package.json<br>å¤åˆ¶ä»£ç <br>é›†æˆ Vue Router è·¯ç”±å·¥å…·</p>
<p>æ³¨æ„ï¼šVue 2.x åªèƒ½ä½¿ç”¨ Vue Router 3 ç‰ˆæœ¬ã€‚</p>
<p>å®‰è£…ä¾èµ–</p>
<p>npm i vue-router@3<br>å¤åˆ¶ä»£ç <br>åˆ›å»ºè·¯ç”±é…ç½®æ–‡ä»¶</p>
<p>åœ¨ src&#x2F;router ç›®å½•ä¸‹æ–°å»º index.js æ–‡ä»¶ä¸ modules æ–‡ä»¶å¤¹</p>
<p>â””â”€â”€ src&#x2F;<br>    â”œâ”€â”€ router&#x2F;<br>        â”œâ”€â”€ modules&#x2F;  &#x2F;&#x2F; è·¯ç”±æ¨¡å—<br>        â”œâ”€â”€ index.js  &#x2F;&#x2F; è·¯ç”±é…ç½®æ–‡ä»¶<br>å¤åˆ¶ä»£ç <br>import Vue from â€˜vueâ€™;<br>import VueRouter from â€˜vue-routerâ€™;</p>
<p>import demoRouters from â€˜.&#x2F;modules&#x2F;demoâ€™;</p>
<p>Vue.use(VueRouter);</p>
<p>const routes &#x3D; [â€¦demoRouters];</p>
<p>const router &#x3D; new VueRouter({<br>  mode: â€˜historyâ€™,<br>  base: import.meta.env.BASE_URL,<br>  routes,<br>  scrollBehavior() {<br>    return { x: 0, y: 0 };<br>  },<br>});</p>
<p>export default router;<br>å¤åˆ¶ä»£ç <br>å…³äºè·¯ç”±è¡¨ï¼Œå»ºè®®æ ¹æ®åŠŸèƒ½çš„ä¸åŒæ¥æ‹†åˆ†åˆ° modules æ–‡ä»¶å¤¹ä¸­ï¼Œå¥½å¤„æ˜¯ï¼š</p>
<p>æ–¹ä¾¿åæœŸç»´æŠ¤</p>
<p>å‡å°‘ Git åˆå¹¶ä»£ç å†²çªå¯èƒ½æ€§</p>
<p>åœ¨ modules æ–‡ä»¶å¤¹ä¸‹æ–°å»º demo.js æ–‡ä»¶ï¼Œé‡Œé¢å­˜æ”¾é¦–é¡µå’Œå…³äºé¡µç›¸å…³è·¯ç”±æ•°æ®ï¼š</p>
<p>export default [<br>  {<br>    path: â€˜&#x2F;â€˜,<br>    name: â€˜homeâ€™,<br>    component: () &#x3D;&gt; import(â€˜@&#x2F;views&#x2F;HomeView.vueâ€™),<br>  },<br>  {<br>    path: â€˜&#x2F;aboutâ€™,<br>    name: â€˜aboutâ€™,<br>    component: () &#x3D;&gt; import(â€˜@&#x2F;views&#x2F;AboutView.vueâ€™),<br>  },<br>];</p>
<p>æ ¹æ®è·¯ç”±é…ç½®çš„å®é™…æƒ…å†µï¼Œéœ€è¦åœ¨ <code>src</code> ä¸‹åˆ›å»º <code>views</code> ç›®å½•ï¼Œç”¨æ¥å­˜å‚¨é¡µé¢ç»„ä»¶ã€‚</p>
<h3 id="æŒ‚è½½è·¯ç”±é…ç½®"><a href="#æŒ‚è½½è·¯ç”±é…ç½®" class="headerlink" title="æŒ‚è½½è·¯ç”±é…ç½®"></a>æŒ‚è½½è·¯ç”±é…ç½®</h3><p>åœ¨ <code>main.js</code> æ–‡ä»¶ä¸­æŒ‚è½½è·¯ç”±é…ç½®</p>
<pre><code class="js">import Vue from &#39;vue&#39;;

import App from &#39;./App.vue&#39;;
import router from &#39;./router&#39;;

new Vue(&#123;
  router,
  render: (h) =&gt; h(App),
&#125;).$mount(&#39;#app&#39;);
å¤åˆ¶ä»£ç 
é›†æˆ Vuex å…¨å±€çŠ¶æ€ç®¡ç†å·¥å…·

æ³¨æ„ï¼šVue 2.x åªèƒ½ä½¿ç”¨ Vuex 3 ç‰ˆæœ¬ã€‚

å®‰è£…ä¾èµ–

npm i vuex@3
å¤åˆ¶ä»£ç 
åˆ›å»ºä»“åº“é…ç½®æ–‡ä»¶

åœ¨ src/store ç›®å½•ä¸‹æ–°å»º index.js æ–‡ä»¶ä¸ modules æ–‡ä»¶å¤¹

â””â”€â”€ src/
    â”œâ”€â”€ store/
        â”œâ”€â”€ modules/  // ä»“åº“æ¨¡å—
        â”œâ”€â”€ index.js  // ä»“åº“é…ç½®æ–‡ä»¶
å¤åˆ¶ä»£ç 
import Vue from &#39;vue&#39;;
import Vuex from &#39;vuex&#39;;

import counter from &#39;./modules/counter&#39;;

Vue.use(Vuex);

const store = new Vuex.Store(&#123;
  // ä¸¥æ ¼æ¨¡å¼
  strict: import.meta.env.MODE !== &#39;production&#39;,
  modules: &#123; counter &#125;,
&#125;);

export default store;
å¤åˆ¶ä»£ç 
åœ¨ modules æ–‡ä»¶å¤¹ä¸‹æ–°å»º counter.js æ–‡ä»¶ï¼Œè®¡æ•°å™¨å…¨å±€çŠ¶æ€ç¤ºä¾‹ï¼š

const state = &#123;
  count: 0,
&#125;;

const mutations = &#123;
  increment(state) &#123;
    state.count++;
  &#125;,
&#125;;

const actions = &#123;
  increment(&#123; commit &#125;) &#123;
    commit(&#39;increment&#39;);
  &#125;,
&#125;;

export default &#123;
  namespaced: true,
  state,
  mutations,
  actions,
&#125;;
å¤åˆ¶ä»£ç 
å¼€å‘ä¸­éœ€è¦å°†ä¸åŒåŠŸèƒ½æ‰€å¯¹åº”çš„çŠ¶æ€ï¼Œæ‹†åˆ†åˆ°ä¸åŒçš„ modulesï¼Œå¥½å¤„å¦‚åŒè·¯ç”±æ¨¡å—ä¸€æ ·ã€‚

æŒ‚è½½ Vuex é…ç½®

åœ¨ main.js æ–‡ä»¶ä¸­æŒ‚è½½ Vuex é…ç½®

import Vue from &#39;vue&#39;;

import App from &#39;./App.vue&#39;;
import store from &#39;./store&#39;;
import router from &#39;./router&#39;;

new Vue(&#123;
  router,
  store,
  render: (h) =&gt; h(App),
&#125;).$mount(&#39;#app&#39;);
å¤åˆ¶ä»£ç 
é›†æˆ Axios HTTP å·¥å…·

å®‰è£…ä¾èµ–

npm i axios
å¤åˆ¶ä»£ç 
è¯·æ±‚é…ç½®

åœ¨ utils ç›®å½•ä¸‹åˆ›å»º request.js æ–‡ä»¶ï¼Œé…ç½®å¥½é€‚åˆè‡ªå·±ä¸šåŠ¡çš„è¯·æ±‚æ‹¦æˆªå’Œå“åº”æ‹¦æˆªï¼š

â””â”€â”€ src/
    â”œâ”€â”€ api  // æ¥å£
    â”œâ”€â”€ utils/
        â”œâ”€â”€ request.js  // axios è¯·æ±‚åº“äºŒæ¬¡å°è£…
å¤åˆ¶ä»£ç 
import axios from &#39;axios&#39;;

// åˆ›å»ºè¯·æ±‚å®ä¾‹
const instance = axios.create(&#123;
  baseURL: &#39;/api&#39;,
  // æŒ‡å®šè¯·æ±‚è¶…æ—¶çš„æ¯«ç§’æ•°
  timeout: 1000,
  // è¡¨ç¤ºè·¨åŸŸè¯·æ±‚æ—¶æ˜¯å¦éœ€è¦ä½¿ç”¨å‡­è¯
  withCredentials: false,
&#125;);

// å‰ç½®æ‹¦æˆªå™¨ï¼ˆå‘èµ·è¯·æ±‚ä¹‹å‰çš„æ‹¦æˆªï¼‰
instance.interceptors.request.use(
  (config) =&gt; &#123;
    /**
     * åœ¨è¿™é‡Œä¸€èˆ¬ä¼šæºå¸¦å‰å°çš„å‚æ•°å‘é€ç»™åå°ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼š
     * const token = getToken()
     * if (token) &#123;
     *  config.headers.token = token
     * &#125;
     */
    return config;
  &#125;,
  (error) =&gt; &#123;
    return Promise.reject(error);
  &#125;,
);

// åç½®æ‹¦æˆªå™¨ï¼ˆè·å–åˆ°å“åº”æ—¶çš„æ‹¦æˆªï¼‰
instance.interceptors.response.use(
  (response) =&gt; &#123;
    /**
     * æ ¹æ®ä½ çš„é¡¹ç›®å®é™…æƒ…å†µæ¥å¯¹ response å’Œ error åšå¤„ç†
     * è¿™é‡Œå¯¹ response å’Œ error ä¸åšä»»ä½•å¤„ç†ï¼Œç›´æ¥è¿”å›
     */
    return response;
  &#125;,
  (error) =&gt; &#123;
    const &#123; response &#125; = error;
    if (response &amp;&amp; response.data) &#123;
      return Promise.reject(error);
    &#125;
    const &#123; message &#125; = error;
    console.error(message);
    return Promise.reject(error);
  &#125;,
);

// å¯¼å‡ºå¸¸ç”¨å‡½æ•°

/**
 * @param &#123;string&#125; url
 * @param &#123;object&#125; data
 * @param &#123;object&#125; params
 */
export const post = (url, data = &#123;&#125;, params = &#123;&#125;) =&gt; &#123;
  return instance(&#123;
    method: &#39;post&#39;,
    url,
    data,
    params,
  &#125;);
&#125;;

/**
 * @param &#123;string&#125; url
 * @param &#123;object&#125; params
 */
export const get = (url, params = &#123;&#125;) =&gt; &#123;
  return instance(&#123;
    method: &#39;get&#39;,
    url,
    params,
  &#125;);
&#125;;

/**
 * @param &#123;string&#125; url
 * @param &#123;object&#125; data
 * @param &#123;object&#125; params
 */
export const put = (url, data = &#123;&#125;, params = &#123;&#125;) =&gt; &#123;
  return instance(&#123;
    method: &#39;put&#39;,
    url,
    params,
    data,
  &#125;);
&#125;;

/**
 * @param &#123;string&#125; url
 * @param &#123;object&#125; params
 */
export const _delete = (url, params = &#123;&#125;) =&gt; &#123;
  return instance(&#123;
    method: &#39;delete&#39;,
    url,
    params,
  &#125;);
&#125;;

export default instance;
å¤åˆ¶ä»£ç 
ä¹‹ååœ¨ api æ–‡ä»¶å¤¹ä¸­ä»¥ä¸šåŠ¡æ¨¡å‹å¯¹æ¥å£è¿›è¡Œæ‹†åˆ†ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå°†æ‰€æœ‰è·Ÿç”¨æˆ·ç›¸å…³æ¥å£å°è£…åœ¨ User ç±»ä¸­ï¼Œæ­¤ç±»ç§°ä½œç”¨æˆ·æ¨¡å‹ã€‚

åœ¨ User ç±»ä¸­æ¯”å¦‚æœ‰ç™»å½•ã€æ³¨å†Œã€è·å–ç”¨æˆ·ä¿¡æ¯ç­‰æ–¹æ³•ï¼Œå¦‚æœæœ‰ä¸šåŠ¡é€»è¾‘å˜åŠ¨ï¼Œåªéœ€è¦ä¿®æ”¹ç›¸å…³æ–¹æ³•å³å¯ã€‚

import &#123; post &#125; from &#39;@/utils/request&#39;;

export default class User &#123;
  /**
   * ç™»å½•
   * @param &#123;String&#125; username ç”¨æˆ·å
   * @param &#123;String&#125; password å¯†ç 
   * @returns
   */
  static async login(username, password) &#123;
    return post(&#39;/login&#39;, &#123;
      username,
      password,
    &#125;);
  &#125;
&#125;
å¤åˆ¶ä»£ç 
æŠŠæ¯ä¸ªä¸šåŠ¡æ¨¡å‹ç‹¬ç«‹æˆä¸€ä¸ª js æ–‡ä»¶ï¼Œå£°æ˜ä¸€ä¸ªç±»é€šè¿‡å…¶å±æ€§å’Œæ–¹æ³•æ¥å®ç°è¿™ä¸ªæ¨¡å‹ç›¸å…³çš„æ•°æ®è·å–ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§æå‡ä»£ç çš„å¯è¯»æ€§ä¸å¯ç»´æŠ¤æ€§ã€‚

æ¨¡æ‹Ÿæ¼”ç¤º

åœ¨éœ€è¦ä½¿ç”¨æ¥å£çš„åœ°æ–¹ï¼Œå¼•å…¥å¯¹åº”çš„ä¸šåŠ¡æ¨¡å‹æ–‡ä»¶ï¼Œå‚è€ƒå¦‚ä¸‹ï¼š

&lt;script&gt;
import User from &#39;@/api/user&#39;;

export default &#123;
  data() &#123;
    return &#123;
      username: &#39;&#39;,
      password: &#39;&#39;,
    &#125;;
  &#125;,
  methods: &#123;
    async login() &#123;
      const res = await User.login(this.username, this.password);
      console.log(res);
    &#125;,
  &#125;,
&#125;;
&lt;/script&gt;
å¤åˆ¶ä»£ç 
é›†æˆ CSS é¢„å¤„ç†å™¨ Less

æœ¬é¡¹ç›®ä½¿ç”¨ CSS é¢„å¤„ç†å™¨ Lessï¼Œç›´æ¥å®‰è£…ä¸ºå¼€å‘ä¾èµ–å³å¯ã€‚

Vite å†…éƒ¨å·²å¸®æˆ‘ä»¬é›†æˆäº†ç›¸å…³çš„ loaderï¼Œä¸éœ€è¦é¢å¤–é…ç½®ã€‚

å®‰è£…ä¾èµ–

npm i less -D
å¤åˆ¶ä»£ç 
å¦‚ä½•ä½¿ç”¨

åœ¨ &lt;style&gt;&lt;/style&gt; æ ·å¼æ ‡ç­¾ä¸­å¼•ç”¨ lang=&quot;less&quot; å³å¯ã€‚

&lt;style lang=&quot;less&quot;&gt;&lt;/style&gt;
å¤åˆ¶ä»£ç 
CSS å‘½åè§„èŒƒæ¨è BEM å‘½åè§„èŒƒ

å‚è€ƒé“¾æ¥ï¼šCSS BEM ä¹¦å†™è§„èŒƒ

å…¨å±€æ ·å¼

åœ¨ src/style ç›®å½•ä¸‹åˆ›å»º variables.less å…¨å±€æ ·å¼æ–‡ä»¶ï¼š

â””â”€â”€ src/
    â”œâ”€â”€ style/
        â”œâ”€â”€ variables.less  // å…¨å±€æ ·å¼æ–‡ä»¶
å¤åˆ¶ä»£ç 
åœ¨ vite.config.js é…ç½®æ–‡ä»¶ä¸­æ–°å¢CSS é¢„å¤„ç†å™¨ç›¸å…³é…ç½®å³å¯å®ç° less å…¨å±€æ ·å¼ï¼š

import &#123; resolve &#125; from &#39;path&#39;;

export default defineConfig(&#123;
    css: &#123;
      preprocessorOptions: &#123;
        less: &#123;
          modifyVars: &#123;
            hack: `true; @import (reference) &quot;$&#123;resolve(&#39;src/style/variables.less&#39;)&#125;&quot;;`,
          &#125;,
          math: &#39;strict&#39;,
          javascriptEnabled: true,
        &#125;,
      &#125;,
    &#125;,
&#125;);
å¤åˆ¶ä»£ç 
æ ·å¼ç©¿é€

å®˜æ–¹æ–‡æ¡£

åœ¨ Vue2.7 ä¸­ï¼Œæ”¹å˜äº†ä»¥å¾€æ ·å¼ç©¿é€çš„è¯­æ³•ï¼Œå¦‚æœç»§ç»­ä½¿ç”¨ ::v-deepã€/deep/ã€&gt;&gt;&gt; ç­‰è¯­æ³•çš„è¯ï¼Œä¼šå‡ºç°ä¸€ä¸ªè­¦å‘Šï¼Œä¸‹é¢æ˜¯æ–°çš„è¯­æ³•ï¼š

/* æ·±åº¦é€‰æ‹©å™¨ */
:deep(selector) &#123;
  /* ... */
&#125;

/* æ’æ§½é€‰æ‹©å™¨ */
:slotted(selector) &#123;
  /* ... */
&#125;

/* å…¨å±€é€‰æ‹©å™¨ */
:global(selector) &#123;
  /* ... */
&#125;
å¤åˆ¶ä»£ç 
è‡³æ­¤ï¼Œä¸€ä¸ªåŸºäº JavaScript + Vite3 + Vue2 + Vue Router + Vuex + Axios + Less çš„å‰ç«¯é¡¹ç›®å¼€å‘ç¯å¢ƒæ­å»ºå®Œæ¯•ã€‚

é¡¹ç›®æ‰˜ç®¡åœ¨ GitHub ä»“åº“ï¼Œéœ€è¦çš„åŒå­¦å¯ä»¥å»ä¸‹è½½ä¸‹æ¥ï¼Œå‚è€ƒå­¦ä¹ ã€‚

æ¥ä¸‹æ¥å¢åŠ ä»£ç è§„èŒƒçº¦æŸã€æäº¤è§„èŒƒçº¦æŸã€å•å…ƒæµ‹è¯•ã€è‡ªåŠ¨éƒ¨ç½²ç­‰ï¼Œè®©å…¶æ›´å®Œå–„ã€æ›´å¥å£®ã€‚

ä»£ç è§„èŒƒ

éšç€å‰ç«¯åº”ç”¨é€æ¸å˜å¾—å¤§å‹åŒ–å’Œå¤æ‚åŒ–ï¼Œåœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­æœ‰å¤šä¸ªäººå‘˜å‚ä¸æ—¶ï¼Œæ¯ä¸ªäººçš„å‰ç«¯èƒ½åŠ›ç¨‹åº¦ä¸ç­‰ï¼Œä»–ä»¬å¾€å¾€ä¼šç”¨ä¸åŒçš„ç¼–ç é£æ ¼å’Œä¹ æƒ¯åœ¨é¡¹ç›®ä¸­å†™ä»£ç ï¼Œé•¿æ­¤ä¸‹å»ï¼ŒåŠ¿å¿…ä¼šè®©é¡¹ç›®çš„å¥å£®æ€§è¶Šæ¥è¶Šå·®ã€‚è§£å†³è¿™äº›é—®é¢˜ï¼Œç†è®ºä¸Šè®²ï¼Œå£å¤´çº¦å®šå’Œä»£ç å®¡æŸ¥éƒ½å¯ä»¥ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼æ— æ³•å®æ—¶åé¦ˆï¼Œè€Œä¸”æ²Ÿé€šæˆæœ¬è¿‡é«˜ï¼Œä¸å¤Ÿçµæ´»ï¼Œæ›´å…³é”®çš„æ˜¯æ— æ³•æŠŠæ§ã€‚ä¸ä»¥è§„çŸ©ï¼Œä¸èƒ½æˆæ–¹åœ†ï¼Œæˆ‘ä»¬ä¸å¾—ä¸åœ¨é¡¹ç›®ä½¿ç”¨ä¸€äº›å·¥å…·æ¥çº¦æŸä»£ç è§„èŒƒã€‚

æœ¬æ–‡è®²è§£å¦‚ä½•ä½¿ç”¨ EditorConfig + ESLint + Prettier + Stylelint ç»„åˆæ¥å®ç°ä»£ç è§„èŒƒåŒ–ã€‚

è¿™æ ·åšå¸¦æ¥å¥½å¤„ï¼š

è§£å†³å›¢é˜Ÿä¹‹é—´ä»£ç ä¸è§„èŒƒå¯¼è‡´çš„å¯è¯»æ€§å·®å’Œå¯ç»´æŠ¤æ€§å·®çš„é—®é¢˜ã€‚
è§£å†³å›¢é˜Ÿæˆå‘˜ä¸åŒç¼–è¾‘å™¨å¯¼è‡´çš„ç¼–ç è§„èŒƒä¸ç»Ÿä¸€é—®é¢˜ã€‚
æå‰å‘ç°ä»£ç é£æ ¼é—®é¢˜ï¼Œç»™å‡ºå¯¹åº”è§„èŒƒæç¤ºï¼ŒåŠæ—¶ä¿®å¤ã€‚
å‡å°‘ä»£ç å®¡æŸ¥è¿‡ç¨‹ä¸­ååå¤å¤çš„ä¿®æ”¹è¿‡ç¨‹ï¼ŒèŠ‚çº¦æ—¶é—´ã€‚
è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œç»Ÿä¸€ç¼–ç é£æ ¼ï¼Œä»æ­¤å’Œè„ä¹±å·®çš„ä»£ç è¯´å†è§ã€‚
é›†æˆ EditorConfig é…ç½®

EditorConfig ä¸»è¦ç”¨äºç»Ÿä¸€ä¸åŒ IDE ç¼–è¾‘å™¨çš„ç¼–ç é£æ ¼ã€‚

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ·»åŠ  .editorconfig æ–‡ä»¶ï¼š

# è¡¨ç¤ºæ˜¯æœ€é¡¶å±‚çš„ EditorConfig é…ç½®æ–‡ä»¶
root = true

# è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶é€‚ç”¨
[*]
# ç¼©è¿›é£æ ¼ï¼ˆtab | spaceï¼‰
indent_style = space
# æ§åˆ¶æ¢è¡Œç±»å‹(lf | cr | crlf)
end_of_line = lf
# è®¾ç½®æ–‡ä»¶å­—ç¬¦é›†ä¸º utf-8
charset = utf-8
# å»é™¤è¡Œé¦–çš„ä»»æ„ç©ºç™½å­—ç¬¦
trim_trailing_whitespace = true
# å§‹ç»ˆåœ¨æ–‡ä»¶æœ«å°¾æ’å…¥ä¸€ä¸ªæ–°è¡Œ
insert_final_newline = true

# è¡¨ç¤ºä»… md æ–‡ä»¶é€‚ç”¨ä»¥ä¸‹è§„åˆ™
[*.md]
max_line_length = off
trim_trailing_whitespace = false

# è¡¨ç¤ºä»… tsã€jsã€vueã€css æ–‡ä»¶é€‚ç”¨ä»¥ä¸‹è§„åˆ™
[*.&#123;ts,js,vue,css&#125;]
indent_size = 2
å¤åˆ¶ä»£ç 
å¾ˆå¤š IDE ä¸­ä¼šé»˜è®¤æ”¯æŒæ­¤é…ç½®ï¼Œä½†æ˜¯ä¹Ÿæœ‰äº›ä¸æ”¯æŒï¼Œå¦‚ï¼šVSCodeã€Atomã€Sublime Text ç­‰ã€‚

å…·ä½“åˆ—è¡¨å¯ä»¥å‚è€ƒå®˜ç½‘ï¼Œå¦‚æœåœ¨ VSCode ä¸­ä½¿ç”¨éœ€è¦å®‰è£… EditorConfig for VS Code æ’ä»¶ã€‚

EditorConfig for VS Code

é›†æˆ ESLint é…ç½®

ESLint æ˜¯é’ˆå¯¹ EScript çš„ä¸€æ¬¾ä»£ç æ£€æµ‹å·¥å…·ï¼Œå®ƒå¯ä»¥æ£€æµ‹é¡¹ç›®ä¸­ç¼–å†™ä¸è§„èŒƒçš„ä»£ç ï¼Œå¦‚æœå†™å‡ºä¸ç¬¦åˆè§„èŒƒçš„ä»£ç ä¼šè¢«è­¦å‘Šã€‚

ç”±æ­¤æˆ‘ä»¬å°±å¯ä»¥å€ŸåŠ©äº ESLint å¼ºå¤§çš„åŠŸèƒ½æ¥ç»Ÿä¸€å›¢é˜Ÿçš„ç¼–ç è§„èŒƒã€‚

å®‰è£…ä¾èµ–

ESLint - ESLint æœ¬ä½“
eslint-define-config - æ”¹å–„ ESLint è§„èŒƒç¼–å†™ä½“éªŒ
eslint-plugin-vue - é€‚ç”¨äº Vue æ–‡ä»¶çš„ ESLint æ’ä»¶
eslint-config-airbnb-base - Airbnb JavaScript é£æ ¼æŒ‡å—
eslint-plugin-import - ä½¿ç”¨ eslint-config-airbnb-base æ—¶å¿…é¡»å®‰è£…çš„å‰ç½®æ’ä»¶
vue-eslint-parser - ä½¿ç”¨ eslint-plugin-vue æ—¶å¿…é¡»å®‰è£…çš„ ESLint è§£æå™¨
npm i eslint eslint-define-config eslint-config-airbnb-base eslint-plugin-import eslint-plugin-vue vue-eslint-parser -D
å¤åˆ¶ä»£ç 
å®‰è£…æ’ä»¶

Visual Studio Code ç¼–è¾‘å™¨ä½¿ç”¨ ESLint é…ç½®éœ€è¦ä¸‹è½½æ’ä»¶ ESLint ã€‚

ESLint

JetBrains ç³»åˆ—ç¼–è¾‘å™¨ï¼ˆWebStormã€IntelliJ IDEA ç­‰ï¼‰åˆ™ä¸ç”¨é¢å¤–å®‰è£…æ’ä»¶ã€‚

åˆ›å»º ESLint é…ç½®æ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .eslintrc.js æ–‡ä»¶ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š

const &#123; defineConfig &#125; = require(&#39;eslint-define-config&#39;);

module.exports = defineConfig(&#123;
  root: true,
  env: &#123;
    browser: true,
    node: true,
    jest: true,
    es6: true,
  &#125;,
  plugins: [&#39;vue&#39;],
  parser: &#39;vue-eslint-parser&#39;,
  parserOptions: &#123;
    ecmaVersion: &#39;latest&#39;,
    sourceType: &#39;module&#39;,
    allowImportExportEverywhere: true,
    ecmaFeatures: &#123;
      jsx: true,
    &#125;,
  &#125;,
  extends: [
    &#39;airbnb-base&#39;,
    &#39;eslint:recommended&#39;,
    &#39;plugin:vue/essential&#39;,
    &#39;plugin:vue/recommended&#39;,
    &#39;plugin:prettier/recommended&#39;,
  ],
  rules: &#123;
    // ç¦æ­¢ä½¿ç”¨å¤šä½™çš„åŒ…
    &#39;import/no-extraneous-dependencies&#39;: 0,
    // ç¡®ä¿åœ¨å¯¼å…¥è·¯å¾„å†…ä¸€è‡´ä½¿ç”¨æ–‡ä»¶æ‰©å±•å
    &#39;import/extensions&#39;: 0,
    // ç¡®ä¿å¯¼å…¥æŒ‡å‘å¯ä»¥è§£æçš„æ–‡ä»¶/æ¨¡å—
    &#39;import/no-unresolved&#39;: 0,
    // é¦–é€‰é»˜è®¤å¯¼å‡ºå¯¼å…¥/é¦–é€‰é»˜è®¤å¯¼å‡º
    &#39;import/prefer-default-export&#39;: 0,
    // è¦æ±‚ä½¿ç”¨ let æˆ– const è€Œä¸æ˜¯ var
    &#39;no-var&#39;: &#39;error&#39;,
    // ç¦æ­¢ä½¿ç”¨ new ä»¥é¿å…äº§ç”Ÿå‰¯ä½œç”¨
    &#39;no-new&#39;: 1,
    // ç¦æ­¢å˜é‡å£°æ˜ä¸å¤–å±‚ä½œç”¨åŸŸçš„å˜é‡åŒå
    &#39;no-shadow&#39;: 0,
    // ç¦ç”¨ console
    &#39;no-console&#39;: 0,
    // ç¦æ­¢æ ‡è¯†ç¬¦ä¸­æœ‰æ‚¬ç©ºä¸‹åˆ’çº¿
    &#39;no-underscore-dangle&#39;: 0,
    // ç¦æ­¢åœ¨å¯èƒ½ä¸æ¯”è¾ƒæ“ä½œç¬¦ç›¸æ··æ·†çš„åœ°æ–¹ä½¿ç”¨ç®­å¤´å‡½æ•°
    &#39;no-confusing-arrow&#39;: 0,
    // ç¦ç”¨ä¸€å…ƒæ“ä½œç¬¦ ++ å’Œ --
    &#39;no-plusplus&#39;: 0,
    // ç¦æ­¢å¯¹ function çš„å‚æ•°è¿›è¡Œé‡æ–°èµ‹å€¼
    &#39;no-param-reassign&#39;: 0,
    // ç¦ç”¨ç‰¹å®šçš„è¯­æ³•
    &#39;no-restricted-syntax&#39;: 0,
    // ç¦æ­¢åœ¨å˜é‡å®šä¹‰ä¹‹å‰ä½¿ç”¨å®ƒä»¬
    &#39;no-use-before-define&#39;: 0,
    // ç¦æ­¢ç›´æ¥è°ƒç”¨ Object.prototypes çš„å†…ç½®å±æ€§
    &#39;no-prototype-builtins&#39;: 0,
    // ç¦æ­¢å¯ä»¥åœ¨æœ‰æ›´ç®€å•çš„å¯æ›¿ä»£çš„è¡¨è¾¾å¼æ—¶ä½¿ç”¨ä¸‰å…ƒæ“ä½œç¬¦
    &#39;no-unneeded-ternary&#39;: &#39;error&#39;,
    // ç¦æ­¢é‡å¤æ¨¡å—å¯¼å…¥
    &#39;no-duplicate-imports&#39;: &#39;error&#39;,
    // ç¦æ­¢åœ¨å¯¹è±¡ä¸­ä½¿ç”¨ä¸å¿…è¦çš„è®¡ç®—å±æ€§
    &#39;no-useless-computed-key&#39;: &#39;error&#39;,
    // ç¦æ­¢ä¸å¿…è¦çš„è½¬ä¹‰å­—ç¬¦
    &#39;no-useless-escape&#39;: 0,
    // ç¦ç”¨ continue è¯­å¥
    &#39;no-continue&#39;: 0,
    // å¼ºåˆ¶ä½¿ç”¨ä¸€è‡´çš„ç¼©è¿›
    indent: [&#39;error&#39;, 2, &#123; SwitchCase: 1 &#125;],
    // å¼ºåˆ¶ä½¿ç”¨éª†é©¼æ‹¼å†™æ³•å‘½åçº¦å®š
    camelcase: 0,
    // å¼ºåˆ¶ç±»æ–¹æ³•ä½¿ç”¨ this
    &#39;class-methods-use-this&#39;: 0,
    // è¦æ±‚æ„é€ å‡½æ•°é¦–å­—æ¯å¤§å†™
    &#39;new-cap&#39;: 0,
    // å¼ºåˆ¶ä¸€è‡´åœ°ä½¿ç”¨ function å£°æ˜æˆ–è¡¨è¾¾å¼
    &#39;func-style&#39;: 0,
    // å¼ºåˆ¶ä¸€è¡Œçš„æœ€å¤§é•¿åº¦
    &#39;max-len&#39;: 0,
    // è¦æ±‚ return è¯­å¥è¦ä¹ˆæ€»æ˜¯æŒ‡å®šè¿”å›çš„å€¼ï¼Œè¦ä¹ˆä¸æŒ‡å®š
    &#39;consistent-return&#39;: 0,
    // å¼ºåˆ¶switchè¦æœ‰defaultåˆ†æ”¯
    &#39;default-case&#39;: 2,
    // å¼ºåˆ¶å‰©ä½™å’Œæ‰©å±•è¿ç®—ç¬¦åŠå…¶è¡¨è¾¾å¼ä¹‹é—´æœ‰ç©ºæ ¼
    &#39;rest-spread-spacing&#39;: &#39;error&#39;,
    // è¦æ±‚ä½¿ç”¨ const å£°æ˜é‚£äº›å£°æ˜åä¸å†è¢«ä¿®æ”¹çš„å˜é‡
    &#39;prefer-const&#39;: &#39;error&#39;,
    // å¼ºåˆ¶ç®­å¤´å‡½æ•°çš„ç®­å¤´å‰åä½¿ç”¨ä¸€è‡´çš„ç©ºæ ¼
    &#39;arrow-spacing&#39;: &#39;error&#39;,
    // åªå¼ºåˆ¶å¯¹è±¡è§£æ„ï¼Œä¸å¼ºåˆ¶æ•°ç»„è§£æ„
    &#39;prefer-destructuring&#39;: [&#39;error&#39;, &#123; object: true, array: false &#125;],
  &#125;,
  overrides: [
    &#123;
      files: [&#39;*.vue&#39;],
      rules: &#123;
        // è¦æ±‚ç»„ä»¶åç§°æ€»æ˜¯å¤šä¸ªå•è¯
        &#39;vue/multi-word-component-names&#39;: 0,
      &#125;,
    &#125;,
  ],
&#125;);
å¤åˆ¶ä»£ç 
å…³äºæ›´å¤šé…ç½®é¡¹ä¿¡æ¯ï¼Œè¯·å‰å¾€ ESLint å®˜ç½‘æŸ¥çœ‹ ESLint-Configuring

åˆ›å»º ESLint è¿‡æ»¤è§„åˆ™

åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ ä¸€ä¸ª .eslintignore æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

dist
node_modules
!.prettierrc.js
components.d.ts
auto-imports.d.ts
å¤åˆ¶ä»£ç 
é›†æˆ Prettier é…ç½®

Prettier æ˜¯ä¸€æ¬¾å¼ºå¤§çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œæ”¯æŒ JavaScriptã€TypeScriptã€CSSã€SCSSã€Lessã€JSXã€Angularã€Vueã€GraphQLã€JSONã€Markdown ç­‰è¯­è¨€ï¼ŒåŸºæœ¬ä¸Šå‰ç«¯èƒ½ç”¨åˆ°çš„æ–‡ä»¶æ ¼å¼å®ƒéƒ½å¯ä»¥æå®šï¼Œæ˜¯å½“ä¸‹æœ€æµè¡Œçš„ä»£ç æ ¼å¼åŒ–å·¥å…·ã€‚

å®‰è£…ä¾èµ–

npm i prettier -D
å¤åˆ¶ä»£ç 
å®‰è£…æ’ä»¶

Visual Studio Code ç¼–è¾‘å™¨ä½¿ç”¨ Prettier é…ç½®éœ€è¦ä¸‹è½½æ’ä»¶ Prettier - Code formatter ã€‚

Prettier - Code formatter

JetBrains ç³»åˆ—ç¼–è¾‘å™¨ï¼ˆWebStormã€IntelliJ IDEA ç­‰ï¼‰åˆ™ä¸ç”¨é¢å¤–å®‰è£…æ’ä»¶ï¼Œå¯ç›´æ¥ä½¿ç”¨ Prettier é…ç½®ã€‚

åˆ›å»º Prettier é…ç½®æ–‡ä»¶

Prettier æ”¯æŒå¤šç§æ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚ .jsonã€.ymlã€.yamlã€.jsç­‰ã€‚

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .prettierrc.js æ–‡ä»¶ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š

module.exports = &#123;
  // ä¸€è¡Œæœ€å¤š 120 å­—ç¬¦
  printWidth: 120,
  // ä½¿ç”¨ 2 ä¸ªç©ºæ ¼ç¼©è¿›
  tabWidth: 2,
  // ä¸ä½¿ç”¨ç¼©è¿›ç¬¦ï¼Œè€Œä½¿ç”¨ç©ºæ ¼
  useTabs: false,
  // è¡Œå°¾éœ€è¦æœ‰åˆ†å·
  semi: true,
  // ä½¿ç”¨å•å¼•å·
  singleQuote: true,
  // å¯¹è±¡çš„ key ä»…åœ¨å¿…è¦æ—¶ç”¨å¼•å·
  quoteProps: &#39;as-needed&#39;,
  // jsx ä¸ä½¿ç”¨å•å¼•å·ï¼Œè€Œä½¿ç”¨åŒå¼•å·
  jsxSingleQuote: false,
  // æœ«å°¾éœ€è¦æœ‰é€—å·
  trailingComma: &#39;all&#39;,
  // å¤§æ‹¬å·å†…çš„é¦–å°¾éœ€è¦ç©ºæ ¼
  bracketSpacing: true,
  // jsx æ ‡ç­¾çš„åå°–æ‹¬å·éœ€è¦æ¢è¡Œ
  jsxBracketSameLine: false,
  // ç®­å¤´å‡½æ•°ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦æ‹¬å·
  arrowParens: &#39;always&#39;,
  // æ¯ä¸ªæ–‡ä»¶æ ¼å¼åŒ–çš„èŒƒå›´æ˜¯æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹
  rangeStart: 0,
  rangeEnd: Infinity,
  // ä¸éœ€è¦å†™æ–‡ä»¶å¼€å¤´çš„ @prettier
  requirePragma: false,
  // ä¸éœ€è¦è‡ªåŠ¨åœ¨æ–‡ä»¶å¼€å¤´æ’å…¥ @prettier
  insertPragma: false,
  // ä½¿ç”¨é»˜è®¤çš„æŠ˜è¡Œæ ‡å‡†
  proseWrap: &#39;preserve&#39;,
  // æ ¹æ®æ˜¾ç¤ºæ ·å¼å†³å®š html è¦ä¸è¦æŠ˜è¡Œ
  htmlWhitespaceSensitivity: &#39;css&#39;,
  // vue æ–‡ä»¶ä¸­çš„ script å’Œ style å†…ä¸ç”¨ç¼©è¿›
  vueIndentScriptAndStyle: false,
  // æ¢è¡Œç¬¦ä½¿ç”¨ lf
  endOfLine: &#39;lf&#39;,
  // æ ¼å¼åŒ–åµŒå…¥çš„å†…å®¹
  embeddedLanguageFormatting: &#39;auto&#39;,
  // html, vue, jsx ä¸­æ¯ä¸ªå±æ€§å ä¸€è¡Œ
  singleAttributePerLine: false,
&#125;;
å¤åˆ¶ä»£ç 
å…³äºæ›´å¤šé…ç½®é¡¹ä¿¡æ¯ï¼Œè¯·å‰å¾€ Prettier å®˜ç½‘æŸ¥çœ‹ Prettier-Options

åˆ›å»º Prettier è¿‡æ»¤è§„åˆ™

åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ ä¸€ä¸ª .prettierignore æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

## OS
.DS_Store
.idea
.editorconfig
pnpm-lock.yaml
.npmrc

# Ignored suffix
*.log
*.md
*.svg
*.png
*.ico
*ignore

## Local
.husky

## Built-files
.cache
dist
å¤åˆ¶ä»£ç 
è§£å†³ Prettier å’Œ ESLint å†²çª

æœ¬é¡¹ç›®ä¸­çš„ ESLint é…ç½®ä½¿ç”¨äº† Airbnb JavaScript é£æ ¼æŒ‡å—æ ¡éªŒï¼Œå…¶è§„åˆ™ä¹‹ä¸€æ˜¯ä»£ç ç»“æŸåé¢è¦åŠ åˆ†å·ï¼Œè€Œåœ¨ Prettier é…ç½®æ–‡ä»¶ä¸­åŠ äº†ä»£ç ç»“æŸåé¢ä¸åŠ åˆ†å·é…ç½®é¡¹ï¼Œä»è€Œå†²çªäº†ã€‚

è§£å†³ä¸¤è€…å†²çªé—®é¢˜ï¼Œéœ€è¦ç”¨åˆ° eslint-plugin-prettier å’Œ eslint-config-prettierã€‚

eslint-plugin-prettier å°† Prettier çš„è§„åˆ™è®¾ç½®åˆ° ESLint çš„è§„åˆ™ä¸­
eslint-config-prettier å…³é—­ ESLint ä¸­ä¸ Prettier ä¸­ä¼šå‘ç”Ÿå†²çªçš„è§„åˆ™
æœ€åå½¢æˆä¼˜å…ˆçº§ï¼šPrettier é…ç½®è§„åˆ™ &gt; ESLint é…ç½®è§„åˆ™

å®‰è£…ä¾èµ–

npm i eslint-plugin-prettier eslint-config-prettier -D
å¤åˆ¶ä»£ç 
ä¿®æ”¹ ESLint é…ç½®æ–‡ä»¶

ä¿®æ”¹ .eslintrc.js æ–‡ä»¶ï¼Œåœ¨ extends ä¸­æ·»åŠ  plugin:prettier/recommended è§„åˆ™ï¼ˆæ­¤è§„åˆ™ä¸€å®šè¦åŠ åœ¨æœ€åï¼‰ã€‚

module.exports = &#123;
  extends: [
    &#39;airbnb-base&#39;,
    &#39;eslint:recommended&#39;,
    &#39;plugin:vue/essential&#39;,
    &#39;plugin:vue/recommended&#39;,
    &#39;plugin:prettier/recommended&#39;
  ],
&#125;
å¤åˆ¶ä»£ç 
è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç 

Visual Studio Code åœ¨ settings.json è®¾ç½®æ–‡ä»¶ä¸­ï¼Œå¢åŠ ä»¥ä¸‹ä»£ç ï¼š

&#123;
  &quot;editor.codeActionsOnSave&quot;: &#123;
    &quot;source.fixAll&quot;: true,
    &quot;source.fixAll.eslint&quot;: true
  &#125;
&#125;
å¤åˆ¶ä»£ç 
WebStorm æ‰“å¼€è®¾ç½®çª—å£ï¼ŒæŒ‰å¦‚ä¸‹æ“ä½œï¼Œæœ€åç‚¹å‡» Apply -&gt; OKï¼š

WebStorm

é›†æˆ Stylelint é…ç½®

Stylelint æ˜¯ä¸€ä¸ªå¼ºå¤§ã€å…ˆè¿›çš„ CSS ä»£ç æ£€æŸ¥å™¨ï¼ˆlinterï¼‰ï¼Œå¯ä»¥å¸®åŠ©ä½ è§„é¿ CSS ä»£ç ä¸­çš„é”™è¯¯å¹¶ä¿æŒä¸€è‡´çš„ç¼–ç é£æ ¼ã€‚

å®‰è£…ä¾èµ–

Stylelint - Stylelint æœ¬ä½“
stylelint-less - Stylelint Less è§„åˆ™
stylelint-config-prettier - å…³é—­ Stylelint ä¸­ä¸ Prettier ä¸­ä¼šå‘ç”Ÿå†²çªçš„è§„åˆ™
stylelint-config-standard - Stylelint å®˜æ–¹æ¨èè§„åˆ™
stylelint-config-recess-order - å¯¹ CSS å£°æ˜è¿›è¡Œæ’åº
stylelint-order - CSS å±æ€§é¡ºåºè§„åˆ™æ’ä»¶
npm i stylelint stylelint-less stylelint-config-prettier stylelint-config-standard stylelint-config-recess-order stylelint-order -D
å¤åˆ¶ä»£ç 
å®‰è£…æ’ä»¶

Visual Studio Code ç¼–è¾‘å™¨ä½¿ç”¨ Stylelint é…ç½®éœ€è¦ä¸‹è½½æ’ä»¶ Stylelint ã€‚

Stylelint

JetBrains ç³»åˆ—ç¼–è¾‘å™¨ï¼ˆWebStormã€IntelliJ IDEA ç­‰ï¼‰åˆ™ä¸ç”¨é¢å¤–å®‰è£…æ’ä»¶ã€‚

åˆ›å»º Stylelint é…ç½®æ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .stylelintrc.js æ–‡ä»¶ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š

module.exports = &#123;
  root: true,
  defaultSeverity: &#39;error&#39;,
  plugins: [&#39;stylelint-order&#39;, &#39;stylelint-less&#39;],
  extends: [
    &#39;stylelint-config-standard&#39;, // the standard shareable config for Stylelint
    &#39;stylelint-config-html/html&#39;, // the shareable html config for Stylelint.
    &#39;stylelint-config-html/vue&#39;, // the shareable vue config for Stylelint.
    &#39;stylelint-config-recess-order&#39;, // use the clean order for properties
    &#39;stylelint-config-prettier&#39;, // turn off any rules that conflict with Prettier
  ],
  rules: &#123;
    // ç¦æ­¢åœ¨è¦†ç›–é«˜ç‰¹å¼‚æ€§é€‰æ‹©å™¨ä¹‹åå‡ºç°ä½ç‰¹å¼‚æ€§é€‰æ‹©å™¨
    &#39;no-descending-specificity&#39;: null,
    // ç¦æ­¢ç©ºæºç 
    &#39;no-empty-source&#39;: null,
    // ç¦æ­¢å­—ä½“æ—ä¸­ç¼ºå°‘æ³›å‹æ—å…³é”®å­—
    &#39;font-family-no-missing-generic-family-keyword&#39;: null,
    // ç¦æ­¢æœªçŸ¥çš„@è§„åˆ™
    &#39;at-rule-no-unknown&#39;: [
      true,
      &#123;
        ignoreAtRules: [
          &#39;tailwind&#39;,
          &#39;apply&#39;,
          &#39;variants&#39;,
          &#39;responsive&#39;,
          &#39;screen&#39;,
          &#39;function&#39;,
          &#39;if&#39;,
          &#39;each&#39;,
          &#39;include&#39;,
          &#39;mixin&#39;,
        ],
      &#125;,
    ],
    // ä¸å…è®¸æœªçŸ¥å‡½æ•°
    &#39;function-no-unknown&#39;: null,
    // ä¸å…è®¸æœªçŸ¥å•ä½
    &#39;unit-no-unknown&#39;: [true, &#123; ignoreUnits: [&#39;rpx&#39;] &#125;],
    // ä¸å…è®¸é€‰æ‹©å™¨ä½¿ç”¨ä¾›åº”å•†å‰ç¼€
    &#39;selector-no-vendor-prefix&#39;: null,
    // æŒ‡å®šå…³é”®å¸§åç§°çš„æ¨¡å¼
    &#39;keyframes-name-pattern&#39;: null,
    // æŒ‡å®šç±»é€‰æ‹©å™¨çš„æ¨¡å¼
    &#39;selector-class-pattern&#39;: null,
    // ä¸å…è®¸å€¼ä½¿ç”¨ä¾›åº”å•†å‰ç¼€
    &#39;value-no-vendor-prefix&#39;: null,
    // è¦æ±‚æˆ–ç¦æ­¢åœ¨è§„åˆ™ä¹‹å‰çš„ç©ºè¡Œ
    &#39;rule-empty-line-before&#39;: [&#39;always&#39;, &#123; ignore: [&#39;after-comment&#39;, &#39;first-nested&#39;] &#125;],
    // æŒ‡å®šå­—ç¬¦ä¸²ä½¿ç”¨å•å¼•å·
    &#39;string-quotes&#39;: &#39;single&#39;,
    // æŒ‡å®š@è§„åˆ™åçš„å¤§å°å†™
    &#39;at-rule-name-case&#39;: &#39;lower&#39;,
    // æŒ‡å®šç¼©è¿›
    indentation: [2, &#123; severity: &#39;warning&#39; &#125;],
  &#125;,
  ignoreFiles: [&#39;**/*.js&#39;, &#39;**/*.jsx&#39;, &#39;**/*.tsx&#39;, &#39;**/*.ts&#39;],
&#125;;
å¤åˆ¶ä»£ç 
åˆ›å»º Stylelint è¿‡æ»¤è§„åˆ™

åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ ä¸€ä¸ª .stylelintignore æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

# .stylelintignore
# æ—§çš„ä¸éœ€æ‰“åŒ…çš„æ ·å¼åº“
*.min.css

# å…¶ä»–ç±»å‹æ–‡ä»¶
*.js
*.jpg
*.woff

# æµ‹è¯•å’Œæ‰“åŒ…ç›®å½•
/test/
/dist/*
/public/*
public/*
/node_modules/
å¤åˆ¶ä»£ç 
å¯ç”¨ Vue æ–‡ä»¶æ”¯æŒ

Stylelint v14 ç‰ˆæœ¬é»˜è®¤ä¸æ”¯æŒ vue æ–‡ä»¶ä¸­çš„ style ä»£ç è‡ªåŠ¨æ£€æµ‹ï¼Œè¯¦æƒ…æŸ¥çœ‹å®˜æ–¹è¿ç§»æŒ‡å—

å®‰è£…ä¾èµ–

stylelint-config-html - è§£æ vue æ–‡ä»¶
postcss-html - ä½¿ç”¨ stylelint-config-html ä¾èµ–çš„æ¨¡å—
postcss-less - å¯¹ less æ–‡ä»¶è¿›è¡Œè§£æ
npm i stylelint-config-html postcss-html postcss-less -D
å¤åˆ¶ä»£ç 
ä¿®æ”¹ Stylelint é…ç½®æ–‡ä»¶

ä¿®æ”¹ .stylelintrc.js æ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹é…ç½®ï¼š

module.exports = &#123;
  overrides: [
    &#123;
      files: [&#39;*.vue&#39;, &#39;**/*.vue&#39;, &#39;*.html&#39;, &#39;**/*.html&#39;],
      customSyntax: &#39;postcss-html&#39;,
      rules: &#123;
        // ç¦æ­¢æœªçŸ¥çš„ä¼ªç±»é€‰æ‹©å™¨
        &#39;selector-pseudo-class-no-unknown&#39;: [true, &#123; ignorePseudoClasses: [&#39;deep&#39;, &#39;global&#39;] &#125;],
        // ç¦æ­¢æœªçŸ¥çš„ä¼ªå…ƒç´ é€‰æ‹©å™¨
        &#39;selector-pseudo-element-no-unknown&#39;: [true, &#123; ignorePseudoElements: [&#39;v-deep&#39;, &#39;v-global&#39;, &#39;v-slotted&#39;] &#125;],
      &#125;,
    &#125;,
    &#123;
      files: [&#39;*.less&#39;, &#39;**/*.less&#39;],
      customSyntax: &#39;postcss-less&#39;,
      rules: &#123;
        &#39;less/color-no-invalid-hex&#39;: true,
        &#39;less/no-duplicate-variables&#39;: true,
      &#125;,
    &#125;,
  ],
&#125;;
å¤åˆ¶ä»£ç 
ä¿®æ”¹ Visual Studio Code å·¥ä½œåŒºé…ç½®

Visual Studio Code åœ¨ settings.json è®¾ç½®æ–‡ä»¶ä¸­ï¼Œå¢åŠ ä»¥ä¸‹ä»£ç ï¼š

&#123;
  &quot;stylelint.validate&quot;: [&quot;css&quot;, &quot;less&quot;, &quot;postcss&quot;, &quot;scss&quot;, &quot;vue&quot;, &quot;sass&quot;, &quot;html&quot;]
&#125;
å¤åˆ¶ä»£ç 
é›†æˆ husky å’Œ lint-staged

åœ¨é¡¹ç›®ä¸­å·²é›†æˆ ESLint å’Œ Prettierï¼Œåœ¨ç¼–ç æ—¶ï¼Œè¿™äº›å·¥å…·å¯ä»¥å¯¹ä»£ç è¿›è¡Œå®æ—¶æ ¡éªŒï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šèƒ½æœ‰æ•ˆè§„èŒƒæ‰€å†™ä»£ç ï¼Œä½†æœ‰äº›äººå¯èƒ½è§‰å¾—è¿™äº›é™åˆ¶å¾ˆéº»çƒ¦ï¼Œä»è€Œé€‰æ‹©è§†â€œæç¤ºâ€è€Œä¸è§ï¼Œä¾æ—§æŒ‰è‡ªå·±ç¼–ç¨‹é£æ ¼æ¥å†™ä»£ç ï¼Œæˆ–è€…å¹²è„†ç¦ç”¨æ‰è¿™äº›å·¥å…·ï¼Œå¼€å‘å®Œæˆå°±ç›´æ¥æŠŠä»£ç æäº¤åˆ°äº†ä»“åº“ï¼Œæ—¥ç§¯æœˆç´¯ï¼ŒESLint ä¹Ÿå°±å½¢åŒè™šè®¾ã€‚

æ‰€ä»¥ï¼Œè¿˜éœ€è¦åšä¸€äº›é™åˆ¶ï¼Œè®©æ²¡é€šè¿‡ ESLint æ£€æµ‹å’Œä¿®å¤çš„ä»£ç ç¦æ­¢æäº¤ï¼Œä»è€Œä¿è¯ä»“åº“ä»£ç éƒ½æ˜¯ç¬¦åˆè§„èŒƒçš„ã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦ç”¨åˆ° Git Hookï¼Œåœ¨æœ¬åœ°æ‰§è¡Œ git commit çš„æ—¶å€™ï¼Œå°±å¯¹æ‰€æäº¤çš„ä»£ç è¿›è¡Œ ESLint æ£€æµ‹å’Œä¿®å¤ï¼ˆå³æ‰§è¡Œ eslint --fixï¼‰ï¼Œå¦‚æœè¿™äº›ä»£ç æ²¡é€šè¿‡ ESLint è§„åˆ™æ ¡éªŒï¼Œåˆ™ç¦æ­¢æäº¤ã€‚

å®ç°è¿™ä¸€åŠŸèƒ½ï¼Œéœ€è¦å€ŸåŠ© husky + lint-staged ã€‚

é…ç½® husky

æ³¨æ„ï¼šæœ¬é¡¹ç›®ä½¿ç”¨ husky 6.x ç‰ˆæœ¬ï¼Œ6.x ç‰ˆæœ¬é…ç½®æ–¹å¼è·Ÿä¹‹å‰ç‰ˆæœ¬æœ‰è¾ƒå¤§å·®å¼‚ï¼Œå½“å‘ç°é…ç½®æ–¹æ³•ä¸ä¸€è‡´æ—¶ï¼Œä¸€åˆ‡ä»¥ husky å®˜ç½‘ä¸ºå‡†ã€‚

ä½¿ç”¨ husky-init å‘½ä»¤å¿«é€Ÿåœ¨é¡¹ç›®åˆå§‹åŒ– husky é…ç½®ï¼š

# åˆå§‹åŒ–ä»“åº“
git init

# åˆå§‹åŒ–
npx husky-init

# å®‰è£…ä¾èµ–
npm install
å¤åˆ¶ä»£ç 
husky åŒ…å«å¾ˆå¤š hookï¼ˆé’©å­ï¼‰ï¼Œå¸¸ç”¨æœ‰ï¼špre-commitã€commit-msgã€‚

ä½¿ç”¨ pre-commit æ¥è§¦å‘ ESLint å‘½ä»¤ï¼Œä¿®æ”¹ .husky/pre-commit æ–‡ä»¶è§¦å‘å‘½ä»¤ï¼š

eslint --fix ./src --ext .vue,.js,.ts
å¤åˆ¶ä»£ç 
pre-commit hook æ–‡ä»¶ä½œç”¨æ˜¯ï¼šå½“æ‰§è¡Œ git commit -m &quot;xxx&quot; æ—¶ï¼Œä¼šå…ˆå¯¹ src ç›®å½•ä¸‹æ‰€æœ‰çš„ .vueã€.jsã€.ts æ–‡ä»¶æ‰§è¡Œ eslint --fix å‘½ä»¤ï¼Œå¦‚æœ ESLint é€šè¿‡ï¼ŒæˆåŠŸ commitï¼Œå¦åˆ™ç»ˆæ­¢ commitã€‚

ä½†æ˜¯åˆå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šæœ‰æ—¶å€™æ˜æ˜åªæ”¹åŠ¨äº†ä¸€ä¸¤ä¸ªæ–‡ä»¶ï¼Œå´è¦å¯¹æ‰€æœ‰çš„æ–‡ä»¶æ‰§è¡Œ eslint --fixã€‚

å‡å¦‚è¿™æ˜¯ä¸€ä¸ªå†å²é¡¹ç›®ï¼Œåœ¨ä¸­é€”é…ç½®äº† ESLint è§„åˆ™ï¼Œé‚£ä¹ˆåœ¨æäº¤ä»£ç æ—¶ï¼Œä¹Ÿä¼šå¯¹å…¶ä»–æœªä¿®æ”¹çš„â€œå†å²â€æ–‡ä»¶éƒ½è¿›è¡Œæ£€æŸ¥ï¼Œå¯èƒ½ä¼šé€ æˆå¤§é‡æ–‡ä»¶å‡ºç° ESLint é”™è¯¯ï¼Œæ˜¾ç„¶è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚

æ‰€ä»¥åªéœ€è¦ç”¨ ESLint ä¿®å¤æ­¤æ¬¡å†™çš„ä»£ç ï¼Œè€Œä¸å»å½±å“å…¶ä»–çš„ä»£ç ï¼Œæ­¤æ—¶éœ€è¦å€ŸåŠ© lint-staged å·¥å…·ã€‚

é…ç½® lint-staged

lint-staged ä¸€èˆ¬ç»“åˆ husky æ¥ä½¿ç”¨ï¼Œå®ƒå¯ä»¥è®© husky çš„ hook è§¦å‘çš„å‘½ä»¤åªä½œç”¨äº git æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œè€Œä¸ä¼šå½±å“åˆ°å…¶ä»–æ–‡ä»¶ã€‚

å®‰è£…ä¾èµ–

npm i lint-staged -D
å¤åˆ¶ä»£ç 
æ–°å¢é…ç½®

åœ¨ package.json é‡Œå¢åŠ  lint-staged é…ç½®é¡¹ï¼š

&#123;
  &quot;lint-staged&quot;: &#123;
    &quot;*.&#123;js,jsx,ts,tsx&#125;&quot;: [
      &quot;prettier --write&quot;,
      &quot;eslint --fix&quot;
    ],
    &quot;*.vue&quot;: [
      &quot;prettier --write&quot;,
      &quot;eslint --fix&quot;,
      &quot;stylelint --fix&quot;
    ],
    &quot;*.&#123;html,vue,vss,sass,less&#125;&quot;: [
      &quot;prettier --write&quot;,
      &quot;stylelint --fix&quot;
    ],
    &quot;package.json&quot;: [
      &quot;prettier --write&quot;
    ],
    &quot;*.md&quot;: [
      &quot;prettier --write&quot;
    ]
  &#125;,
&#125;
å¤åˆ¶ä»£ç 
ä¿®æ”¹è§¦å‘å‘½ä»¤

ä¿®æ”¹ .husky/pre-commit æ–‡ä»¶è§¦å‘å‘½ä»¤ä¸ºï¼š

npx lint-staged
å¤åˆ¶ä»£ç 
pre-commit

ç»è¿‡ä»¥ä¸Šé…ç½®ä¹‹åï¼Œå°±å¯ä»¥åœ¨æ¯æ¬¡æäº¤ä¹‹å‰å¯¹æ‰€æœ‰ä»£ç è¿›è¡Œæ ¼å¼åŒ–ï¼Œä¿è¯çº¿ä¸Šä»£ç çš„è§„èŒƒæ€§ã€‚

æäº¤è§„èŒƒ

å¤šäººåä½œé¡¹ç›®ä¸­ï¼Œåœ¨æäº¤ä»£ç ç¯èŠ‚ï¼Œä¹Ÿå­˜åœ¨ä¸€ç§æƒ…å†µï¼šä¸èƒ½ä¿è¯æ¯ä¸ªäººå¯¹æäº¤ä¿¡æ¯çš„å‡†ç¡®æè¿°ï¼Œå› æ­¤ä¼šå‡ºç°æäº¤ä¿¡æ¯ç´Šä¹±ã€é£æ ¼ä¸ä¸€è‡´çš„æƒ…å†µã€‚

å¦‚æœ git commit çš„æè¿°ä¿¡æ¯ç²¾å‡†ï¼Œåœ¨åæœŸç»´æŠ¤å’Œ Bug å¤„ç†æ—¶ä¼šå˜å¾—æœ‰æ®å¯æŸ¥ï¼Œé¡¹ç›®å¼€å‘å‘¨æœŸå†…è¿˜å¯ä»¥æ ¹æ®è§„èŒƒçš„æäº¤ä¿¡æ¯å¿«é€Ÿç”Ÿæˆå¼€å‘æ—¥å¿—ï¼Œä»è€Œæ–¹ä¾¿æˆ‘ä»¬è¿½è¸ªé¡¹ç›®å’ŒæŠŠæ§è¿›åº¦ã€‚

ç¤¾åŒºæœ€æµè¡Œã€æœ€çŸ¥åã€æœ€å—è®¤å¯çš„ Angular å›¢é˜Ÿæäº¤è§„èŒƒï¼š

Angular å›¢é˜Ÿæäº¤è§„èŒƒ

å‚è€ƒé“¾æ¥ï¼š Angular Style Commit Message Conventions

Commit Message æ ¼å¼è§„èŒƒ

commit message ç”± Headerã€Bodyã€Footer ç»„æˆã€‚

&lt;Header&gt;

&lt;Body&gt;

&lt;Footer&gt;
å¤åˆ¶ä»£ç 
Header

Header éƒ¨åˆ†åŒ…æ‹¬ä¸‰ä¸ªå­—æ®µ typeï¼ˆå¿…éœ€ï¼‰ã€scopeï¼ˆå¯é€‰ï¼‰å’Œ subjectï¼ˆå¿…éœ€ï¼‰ã€‚

&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;
å¤åˆ¶ä»£ç 
type

type ç”¨äºè¯´æ˜ commit çš„æäº¤ç±»å‹ï¼ˆå¿…é¡»æ˜¯ä»¥ä¸‹å‡ ç§ä¹‹ä¸€ï¼‰ã€‚

å€¼	æè¿°
feat	æ–°å¢åŠŸèƒ½
fix	ä¿®å¤é—®é¢˜
docs	æ–‡æ¡£å˜æ›´
style	ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼Œä¾‹å¦‚ç©ºæ ¼ã€åˆ†å·ç­‰æ ¼å¼ä¿®æ­£ï¼‰
refactor	ä»£ç é‡æ„
perf	æ”¹å–„æ€§èƒ½
test	æµ‹è¯•
build	å˜æ›´é¡¹ç›®æ„å»ºæˆ–å¤–éƒ¨ä¾èµ–ï¼ˆä¾‹å¦‚ scopes: webpackã€gulpã€npm ç­‰ï¼‰
ci	æ›´æ”¹æŒç»­é›†æˆè½¯ä»¶çš„é…ç½®æ–‡ä»¶å’Œ package ä¸­çš„ scripts å‘½ä»¤ï¼Œä¾‹å¦‚ scopes: Travis, Circle ç­‰
chore	å˜æ›´æ„å»ºæµç¨‹æˆ–è¾…åŠ©å·¥å…·
revert	ä»£ç å›é€€
scope

scope ç”¨äºæŒ‡å®šæœ¬æ¬¡ commit å½±å“çš„èŒƒå›´ã€‚

scope ä¾æ®é¡¹ç›®è€Œå®šï¼Œä¾‹å¦‚åœ¨ä¸šåŠ¡é¡¹ç›®ä¸­å¯ä»¥ä¾æ®èœå•æˆ–è€…åŠŸèƒ½æ¨¡å—åˆ’åˆ†ï¼Œå¦‚æœæ˜¯ç»„ä»¶åº“å¼€å‘ï¼Œåˆ™å¯ä»¥ä¾æ®ç»„ä»¶åˆ’åˆ†ã€‚

subject

subject æ˜¯æœ¬æ¬¡ commit çš„ç®€æ´æè¿°ï¼Œé•¿åº¦çº¦å®šåœ¨ 50 ä¸ªå­—ç¬¦ä»¥å†…ï¼Œé€šå¸¸éµå¾ªä»¥ä¸‹å‡ ä¸ªè§„èŒƒï¼š

ç”¨åŠ¨è¯å¼€å¤´ï¼Œç¬¬ä¸€äººç§°ç°åœ¨æ—¶è¡¨è¿°ï¼Œä¾‹å¦‚ï¼šchange ä»£æ›¿ changed æˆ– changes
ç¬¬ä¸€ä¸ªå­—æ¯å°å†™
ç»“å°¾ä¸åŠ å¥å·ï¼ˆ.ï¼‰
Body

body æ˜¯å¯¹æœ¬æ¬¡ commit çš„è¯¦ç»†æè¿°ï¼Œå¯ä»¥åˆ†æˆå¤šè¡Œã€‚

è·Ÿ subject ç±»ä¼¼ï¼Œç”¨åŠ¨è¯å¼€å¤´ï¼Œbody åº”è¯¥è¯´æ˜ä¿®æ”¹çš„åŸå› å’Œæ›´æ”¹å‰åçš„è¡Œä¸ºå¯¹æ¯”ã€‚

Footer

å¦‚æœæœ¬æ¬¡æäº¤çš„ä»£ç æ˜¯çªç ´æ€§çš„å˜æ›´æˆ–å…³é—­ç¼ºé™·ï¼Œåˆ™ Footer å¿…éœ€ï¼Œå¦åˆ™å¯ä»¥çœç•¥ã€‚

çªç ´æ€§çš„å˜æ›´

å½“å‰ä»£ç ä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬æœ‰çªç ´æ€§æ”¹å˜ï¼Œåˆ™ Footer ä»¥ BREAKING CHANGE å¼€å¤´ï¼Œåé¢æ˜¯å¯¹å˜åŠ¨çš„æè¿°ã€ä»¥åŠå˜åŠ¨çš„ç†ç”±ã€‚

å…³é—­ç¼ºé™·

å¦‚æœå½“å‰æäº¤æ˜¯é’ˆå¯¹ç‰¹å®šçš„ issueï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ Footer éƒ¨åˆ†å¡«å†™éœ€è¦å…³é—­çš„å•ä¸ª issue æˆ–ä¸€ç³»åˆ— issuesã€‚

å‚è€ƒä¾‹å­

feat

feat(browser): onUrlChange event (popstate/hashchange/polling)

Added new event to browser:
- forward popstate event if available
- forward hashchange event if popstate not available
- do polling when neither popstate nor hashchange available

Breaks $browser.onHashChange, which was removed (use onUrlChange instead)
å¤åˆ¶ä»£ç 
fix

fix(compile): couple of unit tests for IE9

Older IEs serialize html uppercased, but IE9 does not...
Would be better to expect case insensitive, unfortunately jasmine does
not allow to user regexps for throw expectations.

Closes #392
Breaks foo.bar api, foo.baz should be used instead
å¤åˆ¶ä»£ç 
style

style(location): add couple of missing semi colons
å¤åˆ¶ä»£ç 
chore

chore(release): v3.4.2
å¤åˆ¶ä»£ç 
é›†æˆ cz-git å®ç°è§„èŒƒæäº¤

ä¸€æ¬¾å·¥ç¨‹æ€§æ›´å¼ºï¼Œè½»é‡çº§ï¼Œé«˜åº¦è‡ªå®šä¹‰ï¼Œæ ‡å‡†è¾“å‡ºæ ¼å¼çš„ commitizen é€‚é…å™¨

å®˜æ–¹ç½‘ç«™ï¼šcz-git

cz-git

å®‰è£…ä¾èµ–

npm install -D cz-git
å¤åˆ¶ä»£ç 
æŒ‡å®šé€‚é…å™¨

ä¿®æ”¹ package.json æ–‡ä»¶ï¼Œæ·»åŠ  config æŒ‡å®šä½¿ç”¨çš„é€‚é…å™¨

&#123;
  &quot;scripts&quot;: &#123;&#125;,
  &quot;config&quot;: &#123;
    &quot;commitizen&quot;: &#123;
      &quot;path&quot;: &quot;node_modules/cz-git&quot;
    &#125;
  &#125;
&#125;
å¤åˆ¶ä»£ç 
è‡ªå®šä¹‰é…ç½®ï¼ˆå¯é€‰ï¼‰

cz-git ä¸ commitlint è¿›è¡Œè”åŠ¨ç»™äºˆæ ¡éªŒä¿¡æ¯ï¼Œæ‰€ä»¥å¯ä»¥ç¼–å†™äº commitlint é…ç½®æ–‡ä»¶ä¹‹ä¸­ã€‚

ä¾‹å¦‚ï¼š(â‡’ é…ç½®æ¨¡æ¿)

/** @type &#123;import(&#39;cz-git&#39;).UserConfig&#125; */
module.exports = &#123;
  extends: [&#39;@commitlint/config-conventional&#39;],
  rules: &#123;&#125;,
  prompt: &#123;
    useEmoji: false,
    emojiAlign: &#39;center&#39;,
    allowCustomIssuePrefixs: false,
    allowEmptyIssuePrefixs: false,
  &#125;,
&#125;;
å¤åˆ¶ä»£ç 
æœ¬é¡¹ç›®é…ç½®æ–‡ä»¶å¯å‚è€ƒï¼šcommitlint.config.js

å…¨å±€ä½¿ç”¨

å…¨å±€å®‰è£…çš„å¥½å¤„åœ¨äºï¼šåœ¨ä»»ä½•é¡¹ç›®ä¸‹éƒ½å¯ä»¥åˆ©ç”¨ cz æˆ– git cz å‘½ä»¤å¯åŠ¨å‘½ä»¤è¡Œå·¥å…·ï¼Œç”Ÿæˆæ ‡å‡†åŒ– commit message

å®‰è£…å…¨å±€ä¾èµ–

npm install -g cz-git commitizen
å¤åˆ¶ä»£ç 
å…¨å±€é…ç½®é€‚é…å™¨ç±»å‹

echo &#39;&#123; &quot;path&quot;: &quot;cz-git&quot; &#125;&#39; &gt; ~/.czrc
å¤åˆ¶ä»£ç 
è‡ªå®šä¹‰é…ç½®ï¼ˆå¯é€‰ï¼‰

æ–¹å¼ä¸€ï¼š ç¼–è¾‘ ~/.czrc æ–‡ä»¶ä»¥ json å½¢å¼æ·»åŠ é…ç½®ï¼Œä¾‹å¦‚ï¼š

&#123;
  &quot;path&quot;: &quot;cz-git&quot;,
  &quot;useEmoji&quot;: true
&#125;
å¤åˆ¶ä»£ç 
æ–¹å¼äºŒï¼šä¸ commitlint é…åˆï¼Œåœ¨ $HOME è·¯å¾„ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ (â†“ é…ç½®æ¨¡æ¿)

é›†æˆ commitlint éªŒè¯è§„èŒƒæäº¤

åœ¨â€œä»£ç è§„èŒƒâ€ç« èŠ‚ä¸­æåˆ°ï¼Œå°½ç®¡åˆ¶å®šäº†è§„èŒƒï¼Œä½†åœ¨å¤šäººåä½œçš„é¡¹ç›®ä¸­ï¼Œæ€»æœ‰äº›äººä¾æ—§æˆ‘è¡Œæˆ‘ç´ ã€‚

å› æ­¤æäº¤ä»£ç è¿™ä¸ªç¯èŠ‚ï¼Œä¹Ÿå¢åŠ ä¸€ä¸ªé™åˆ¶ï¼šåªè®©ç¬¦åˆ Angular è§„èŒƒçš„ commit message é€šè¿‡ã€‚

æ­¤åŠŸèƒ½éœ€å€ŸåŠ© @commitlint/config-conventional å’Œ @commitlint/cli å·¥å…·æ¥å®ç°ã€‚

å®‰è£…

@commitlint/cli - Commitlint æœ¬ä½“
@commitlint/config-conventional - é€šç”¨æäº¤è§„èŒƒ
npm i @commitlint/cli @commitlint/config-conventional -D
å¤åˆ¶ä»£ç 
é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º commitlint.config.js æ–‡ä»¶ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š

module.exports = &#123;
  extends: [&#39;@commitlint/config-conventional&#39;]
&#125;
å¤åˆ¶ä»£ç 
ä½¿ç”¨ husky å‘½ä»¤åœ¨ .husky ç›®å½•ä¸‹åˆ›å»º commit-msg æ–‡ä»¶ï¼Œå¹¶åœ¨æ­¤æ‰§è¡ŒéªŒè¯å‘½ä»¤ï¼š

npx husky add .husky/commit-msg &quot;npx --no-install commitlint --edit $1&quot;
å¤åˆ¶ä»£ç 
commit-msg

æœ¬é¡¹ç›®å®Œæ•´ä»£ç æ‰˜ç®¡åœ¨ GitHub ä»“åº“ï¼Œæ¬¢è¿ç‚¹äº®å°æ˜Ÿæ˜Ÿ ğŸŒŸğŸŒŸ

è‡ªåŠ¨éƒ¨ç½²

æœ¬ç« èŠ‚å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ CIï¼ˆContinuous Integration æŒç»­é›†æˆï¼‰æœåŠ¡æ¥å®Œæˆé¡¹ç›®éƒ¨ç½²å·¥ä½œã€‚

å¸¸è§çš„ CI å·¥å…·æœ‰ GitHub Actionsã€GitLab CIã€Travis CIã€Circle CI ç­‰ã€‚

æœ¬é¡¹ç›®ä½¿ç”¨ GitHub Actions æ¥å®Œæˆè¿™ä¸€æ“ä½œã€‚

ğŸ”— å‚è€ƒé“¾æ¥ï¼šGitHub Actions å…¥é—¨æ•™ç¨‹

åˆ›å»º GitHub ä»“åº“

å› ä¸º GitHub Actions åªå¯¹ GitHub ä»“åº“æœ‰æ•ˆï¼Œæ‰€ä»¥åˆ›å»º GitHub ä»“åº“æ¥æ‰˜ç®¡é¡¹ç›®ä»£ç ã€‚

åˆ›å»º GitHub ä»“åº“

master åˆ†æ”¯å­˜å‚¨é¡¹ç›®æºä»£ç 
gh-pages åˆ†æ”¯å­˜å‚¨æ‰“åŒ…åçš„é™æ€æ–‡ä»¶
åˆ›å»º GitHub Token

åˆ›å»ºä¸€ä¸ªæœ‰ repo å’Œ workflow æƒé™çš„ GitHub Token

åˆ›å»º GitHub Token

æ³¨æ„ï¼šæ–°ç”Ÿæˆçš„ Token åªä¼šæ˜¾ç¤ºä¸€æ¬¡ã€‚

Token

æ·»åŠ  Actions secret

å°†ä¸Šè¿°åˆ›å»ºçš„ Token æ·»åŠ åˆ° GitHub ä»“åº“ä¸­çš„ Secrets é‡Œï¼Œå¹¶å°†è¿™ä¸ªæ–°å¢çš„ secret å‘½åä¸º VITE_VUE_DEPLOY ã€‚

æ­¥éª¤ï¼šä»“åº“ -&gt; Settings -&gt; Secrets -&gt; Actions -&gt; New repository secretã€‚

New secret

æ³¨æ„ï¼šæ–°åˆ›å»ºçš„ secret VITE_VUE_DEPLOY åœ¨ Actions é…ç½®æ–‡ä»¶ä¸­è¦ç”¨åˆ°ï¼Œä¸¤ä¸ªåœ°æ–¹éœ€ä¿æŒä¸€è‡´ï¼

ä¿®æ”¹ package.json

æ‰“å¼€ package.json æ–‡ä»¶ï¼Œæ–°å¢ homepage å­—æ®µï¼Œè¡¨ç¤ºè¯¥åº”ç”¨å‘å¸ƒåçš„æ ¹ç›®å½•ï¼ˆå‚è§å®˜æ–¹æ–‡æ¡£ï¼‰ã€‚

&quot;homepage&quot;: &quot;https://[username].github.io/github-actions-demo&quot;,
å¤åˆ¶ä»£ç 
ä¸Šé¢ä»£ç ä¸­ï¼Œå°† [username] æ›¿æ¢æˆä½ çš„ GitHub ç”¨æˆ·åï¼Œå‚è§èŒƒä¾‹ã€‚

åˆ›å»º Actions é…ç½®æ–‡ä»¶

ï¼ˆ1ï¼‰åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º .github ç›®å½•ã€‚

ï¼ˆ2ï¼‰åœ¨ .github ç›®å½•ä¸‹åˆ›å»º workflows ç›®å½•ã€‚

ï¼ˆ3ï¼‰åœ¨ workflows ç›®å½•ä¸‹åˆ›å»º deploy.yml æ–‡ä»¶ã€‚

.github/workflows/deploy.yml

name: Vite Vue Deploy

on:
  push:
    # master åˆ†æ”¯æœ‰ push æ—¶è§¦å‘
    branches: [master]

jobs:
  deploy:
    # æŒ‡å®šè™šæ‹Ÿæœºç¯å¢ƒ
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [14.x, 16.x]

    steps:
      - name: Checkout
        # æ‹‰å– GitHub ä»“åº“ä»£ç 
        uses: actions/checkout@v3

      - name: Use Node.js $&#123;&#123; matrix.node-version &#125;&#125;
        # è®¾å®š Node.js ç¯å¢ƒ
        uses: actions/setup-node@v3
        with:
          node-version: $&#123;&#123; matrix.node-version &#125;&#125;

      - name: Install
        # å®‰è£…ä¾èµ–
        run: npm install

      - name: Build
        # æ‰“åŒ…
        run: npm run build

      - name: Deploy
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          # éƒ¨ç½²æ‰“åŒ…ç›®å½•
          folder: dist
          # å¯†é’¥å
          token: $&#123;&#123; secrets.VITE_VUE_DEPLOY &#125;&#125;
          # åˆ†æ”¯
          branch: gh-pages
å¤åˆ¶ä»£ç 
ğŸ”— é€šè¿‡æ­¤é“¾æ¥ elanyoung.github.io/vite-vue2-jâ€¦ å³å¯è®¿é—®æœ¬é¡¹ç›®

æ–‡ç« æ€»ç»“

æœ¬æ–‡ä»æŠ€æœ¯é€‰é¡¹åˆ°æ¶æ„æ­å»ºã€ä»ä»£ç è§„èŒƒçº¦æŸåˆ°æäº¤ä¿¡æ¯è§„èŒƒçº¦æŸï¼Œä¸€æ­¥ä¸€æ­¥å¸¦é¢†å¤§å®¶å¦‚ä½•ä»ä¸€ä¸ªæœ€ç®€å•çš„å‰ç«¯é¡¹ç›®éª¨æ¶åˆ°è§„èŒƒçš„å‰ç«¯å·¥ç¨‹åŒ–ç¯å¢ƒï¼ŒåŸºæœ¬æ¶µç›–å‰ç«¯é¡¹ç›®å¼€å‘çš„æ•´ä¸ªæµç¨‹ï¼Œç‰¹åˆ«é€‚åˆåˆšæ¥è§¦å‰ç«¯å·¥ç¨‹åŒ–çš„åŒå­¦å­¦ä¹ ã€‚

å› ç¯‡å¹…è¾ƒé•¿ï¼Œæ‰€æ¶‰åŠæŠ€æœ¯ç‚¹è¾ƒå¤šï¼Œéš¾å…ä¼šå‡ºç°é”™è¯¯ï¼Œå¸Œæœ›å¤§å®¶å¤šå¤šæŒ‡æ­£ï¼Œè°¢è°¢å¤§å®¶ï¼

å‚è€ƒå‡ºå¤„

XPoetï¼šä» 0 å¼€å§‹æ‰‹æŠŠæ‰‹å¸¦ä½ æ­å»ºä¸€å¥—è§„èŒƒçš„ Vue3.x é¡¹ç›®å·¥ç¨‹ç¯å¢ƒ
</code></pre>

            </div>

            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/tags/vue2/">#vue2</a>&nbsp;
                        </li>
                    
                </ul>
            

            
                <div class="article-nav">
                    
                    
                        <div class="article-next">
                            <a class="next"
                               rel="next"
                               href="/2023/05/16/%E4%BB%8E%200%20%E6%90%AD%E5%BB%BA%20Vite%203%20+%20Vue%203%20%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E9%A1%B9%E7%9B%AE/"
                            >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">ä» 0 æ­å»º Vite 3 + Vue 3 å‰ç«¯å·¥ç¨‹åŒ–é¡¹ç›®</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                                <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                            </a>
                        </div>
                    
                </div>
            

            
                <div class="comment-container">
                    
<div class="comments-container">
    <div id="comments-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments"></i>&nbsp;Comments
    </div>
    
        
            

    <div class="gitalk-comment-container">
        <div id="gitalk-container"></div>
        <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk/dist/gitalk.css">
        <script  src="//cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js"></script>
        <script >
          function loadGitalk() {
            let __gitalk__pathname = decodeURI(location.pathname);
            const __gitalk__pathnameLength = __gitalk__pathname.length;
            const __gitalk__pathnameMaxLength = 50;
            if (__gitalk__pathnameLength > __gitalk__pathnameMaxLength) {
              __gitalk__pathname = __gitalk__pathname.substring(0, __gitalk__pathnameMaxLength - 3) + '...';
            }

            try {
              Gitalk && new Gitalk({
                clientID: 'a85b4998347cbc5bfba6',
                clientSecret: '283df2a25030f48a8d677cb8ed1de71cab8c7976',
                repo: 'zack995886data',
                owner: 'zack995886',
                admin: 'zack995886',
                id: __gitalk__pathname,
                proxy: '',
                language: 'en'
              }).render('gitalk-container');
            } catch (e) {
              window.Gitalk = null;
            }
          }

          if ('false' === 'true') {
            const loadGitalkTimeout = setTimeout(() => {
              loadGitalk();
              clearTimeout(loadGitalkTimeout);
            }, 1000);
          } else {
            window.addEventListener('DOMContentLoaded', loadGitalk);
          }
        </script>
    </div>



        
    
</div>

                </div>
            
        </div>

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            
<footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
                <span>2020</span> -
            
            2023
            
                &nbsp;<i class="fas fa-heart icon-animate"></i>
                &nbsp;<a href="/">å¨å­</a>
            
        </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.6.1</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        

        <!-- go comment -->
        
            <li class="tools-item flex-center go-to-comments">
                <i class="fas fa-comment"></i>
                <span class="post-comments-count"></span>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>










<div class="post-scripts">
    
        
<script src="/js/post-helper.js"></script>

        
            
<script src="/js/libs/anime.min.js"></script>

        
        
    
</div>



</body>
</html>
